{% extends "core/base.html" %}

{% block header %}
<header>
    <div class="card bg-light">
        <article class="card-body mx-auto" style="max-width: 400px;">

            <h4 class="card-title mt-3 text-center">Connectez-vous</h4>
            <div class="row justify-content-center">

                <form class="form-signin" method="POST" action="{% url 'login' %}">
                    {% csrf_token %}

                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                        </div>
                        {{ form.username }}

                    </div>


                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        {{ form.password }}

                    </div>

                    <div class="checkbox mb-3">
                        <label>
                            <input type="checkbox" value="remember-me"> Enregistrer
                        </label>
                    </div>


                    <div class="form-group">
                        <button class="btn btn-lg btn-primary btn-block" type="submit" id="id_button_login">Connexion</button>
                        <input type="hidden" name="next" value="{{ next }}">
                    </div>


                    <p class="text-center">Vous n'avez pas de compte? <a
                            href="{% url 'register' %}">Enregistrez-vous</a> </p>

                    {% if form.errors %}

                    {% for field in form %}
                        {% for error in field.errors %}
                        <div class="alert alert-danger">
                            <strong>{{ error|escape }}</strong>
                        </div>
                        {% endfor %}
                    {% endfor %}

                    {% for error in form.non_field_errors %}
                        <div class="alert alert-danger">
                            <strong>{{ error|escape }}</strong>
                        </div>
                        {% endfor %}
                    {% endif %}
                </form>

            </div>


        </article>
    </div>

</header>
{% endblock %}